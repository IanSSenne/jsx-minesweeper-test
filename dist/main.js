(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[function(t,e,i){},function(t,e,i){"use strict";function s(t,e,...i){const s=document.createElement(t);if(e)for(const t in e)t.startsWith("on")?s.addEventListener(t.substr(2),e[t]):s.setAttribute(t,e[t].toString());for(const t of function t(e){return e.reduce((e,i)=>[...e,...Array.isArray(i)?t(i):[i]],[])}(i))s.appendChild(t instanceof HTMLElement?t:document.createTextNode(String(t)));return s}i.r(e);const n=20,o=20,l=0;function d(t,e,i=0){let n=i=i||t*e*.2|0;const o=[],l=()=>Math.random().toString(36).substr(2),d=l(),r=l(),a=new Map;class c{constructor(t,e){this.isFlipped=!1,this.isFlagged=!1,this.isMine=!1,this.id="",this.x=t,this.y=e}flag(){this.isFlipped||(this.isFlagged?n++:n--,function(){const t=document.getElementById(d);t&&(t.innerHTML=n.toString())}(),this.isFlagged=!this.isFlagged),this.update()}flip(t=!1){var e;if(this.isMine&&!this.isFlipped){this.isFlipped=!0;for(let t=0;t<o.length;t++)null===(e=a.get(o[t]))||void 0===e||e.flip();this.update()}else this.isFlagged||this.isFlipped||(this.isFlipped=!0,this.propigate(t),this.update())}getClasses(){return["cell",this.isFlagged&&"is-flagged",this.isFlipped&&(this.isMine?"is-flipped is-mine":"is-flipped")].filter(Boolean).join(" ")}getCount(){var t;let e=0;for(let i=-1;i<=1;i++)for(let s=-1;s<=1;s++){const n=this.x+i,o=this.y+s;0==i&&0==s||!(null===(t=a.get(n+"-"+o))||void 0===t?void 0:t.isMine)||e++}return e}propigate(t=!1){if(0==this.getCount()||t)for(let e=-1;e<=1;e++)for(let i=-1;i<=1;i++)if(0!=e||0!=i){const s=a.get(e+this.x+"-"+(i+this.y));!s||t&&0!==s.getCount()||s.isMine||s.flip()}}update(){const t=document.getElementById(this.id);t&&(t.className=this.getClasses(),this.isFlagged||!this.isFlipped?t.innerHTML=" ":t.innerHTML=this.isMine?" ":String(this.getCount()||" "))}}function p({x:t,y:e}){const i=new c(t,e);a.set(t+"-"+e,i);const n=l();return i.id=n,s("button",{id:n,oncontextmenu:t=>{t.preventDefault(),t.stopPropagation()},onmousedown:t=>(t.preventDefault(),t.stopPropagation(),2===t.button?i.flag():i.flip(!0),i.update(),!1),class:"cell",style:`--x:${t};--y:${e}`})}const u=[];for(let i=0;i<t;i++)for(let t=0;t<e;t++)u.push(p({x:i,y:t}));let h=0;for(;i>0&&h<1e3;){const s=Math.floor(Math.random()*t)+"-"+Math.floor(Math.random()*e),n=a.get(s);n&&(i--,n.isMine=!0,o.push(s)),h++}return s("div",{class:"app",style:`--width:${t};--height:${e};`},s("div",{class:"topbar",style:"-moz-user-select: none; -webkit-user-select: none; -ms-user-select:none; user-select:none;-o-user-select:none;",unselectable:"on",onselectstart:()=>!1},s("div",{class:"remaining-mines",id:d},n),s("button",{class:"is-mine settings-button",onclick:()=>{var t;null===(t=document.getElementById(r))||void 0===t||t.classList.toggle("hidden")}})),s("div",{class:"settings hidden",id:r}),s("div",{class:"minefield"},u))}const r=()=>{const t=document.getElementById("app");null==t||t.appendChild(d(n,o,l))};document.body?r():window.addEventListener("DOMContentLoaded",r);i(0)}],[[1,1]]]);